<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>69 Shades of Love - Self-Care Todo</title>
    
    <!-- SEO & Meta Tags -->
    <meta name="description" content="Your personal self-care journey with 69 Shades of Love. Track daily self-care tasks and improve your physical, mental, personal, and relationship wellbeing.">
    <meta name="keywords" content="self-care, personal development, mental health, physical wellbeing, relationship care, productivity, habit tracker">
    <meta name="author" content="WTQ - What The Quack">
    <meta property="og:title" content="69 Shades of Love - Self-Care Journey">
    <meta property="og:description" content="Your personal self-care journey with 69 tasks to improve your wellbeing.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://tiptopjar.com/proDucktive/preview.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="69 Shades of Love - Self-Care Journey">
    <meta name="twitter:description" content="Track your self-care journey with this beautiful interactive tool.">
    
    <!-- External Libraries -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    
    <!-- CSS Styles -->
    <style>
        /* ============ VARIABLES & BASE STYLES ============ */
        :root {
            --physical-color: #FF9F29;
            --mental-color: #7ED957;
            --personal-color: #FFD966;
            --relationship-color: #FF97B7;
            --main-color: #C41E3A;
            --background-color: #FFF0F5;
            --text-color: #333;
            --card-background: #fff;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --focus-outline: 3px solid #4070F4;
            --accent-color: #8A2BE2;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Accessibility focus styles */
        a:focus, button:focus, input:focus, [tabindex]:focus {
            outline: var(--focus-outline);
            outline-offset: 2px;
        }

        /* Skip to content link for accessibility */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--main-color);
            color: white;
            padding: 8px;
            z-index: 100;
            transition: top 0.3s ease;
        }

        .skip-link:focus {
            top: 0;
        }

        /* ============ HEADER STYLES ============ */
        header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .logo-container {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            width: 100%;
        }

        .duck-logo {
            width: 60px;
            height: 60px;
            cursor: pointer;
            transition: transform 0.3s ease;
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
        }

        .duck-logo:hover, .duck-logo:focus {
            transform: translateY(-50%) scale(1.1);
        }

        .duck-tooltip {
            position: absolute;
            top: 50%;
            left: 100%;
            transform: translateY(-50%);
            background-color: white;
            padding: 8px 12px;
            border-radius: 15px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-weight: bold;
            color: #8A2BE2;
            pointer-events: none;
            z-index: 10;
            margin-left: 10px;
        }

        .duck-logo:hover .duck-tooltip,
        .duck-logo:focus .duck-tooltip {
            opacity: 1;
            visibility: visible;
        }

        .main-title {
            color: var(--main-color);
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            display: inline-block;
            text-align: center;
        }

        .main-title::before {
            content: "";
            position: absolute;
            width: 40px;
            height: 40px;
            background-color: var(--main-color);
            border-radius: 50%;
            opacity: 0.1;
            top: -10px;
            left: -15px;
            z-index: -1;
        }

        .subtitle {
            color: #666;
            font-size: 1.2rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .dedication {
            font-size: 0.95rem;
            font-style: italic;
            color: var(--accent-color);
            margin-top: 5px;
            display: inline-block;
            padding: 3px 10px;
            border-radius: 30px;
            background-color: rgba(138, 43, 226, 0.1);
            position: relative;
        }
        
        .dedication::before {
            content: "‚ù§";
            margin-right: 5px;
            font-style: normal;
        }
        
        .dedication::after {
            content: "‚ù§";
            margin-left: 5px;
            font-style: normal;
        }

        .streak-counter {
            background-color: white;
            padding: 10px 15px;
            border-radius: 20px;
            display: inline-flex;
            align-items: center;
            box-shadow: 0 3px 10px var(--shadow-color);
            margin-top: 10px;
        }

        .streak-flame {
            color: #FF5722;
            margin-right: 5px;
            font-size: 1.2rem;
        }

        .streak-count {
            font-weight: bold;
            color: #333;
        }

        /* ============ LAYOUT STYLES ============ */
        .page-layout {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        main {
            flex: 1;
            min-width: 300px;
        }

        aside {
            width: 350px;
            min-width: 300px;
        }

        /* ============ DUCK JOKE STYLES ============ */
        .duck-joke-container {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            max-width: 300px;
            z-index: 1000;
            transform: translateY(150%);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            border-left: 5px solid #8A2BE2;
        }

        .duck-joke-container.show {
            transform: translateY(0);
        }

        .duck-joke-text {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            color: #8A2BE2;
            font-weight: bold;
            font-size: 1rem;
            margin-bottom: 0;
        }

        /* ============ ABOUT ME STYLES ============ */
        .about-me-container {
            background: linear-gradient(135deg, #8A2BE2 0%, #4B0082 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .about-me-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .about-me-title img {
            width: 30px;
            height: 30px;
            margin-right: 10px;
        }
        
        .about-me-content {
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .contact-info {
            margin-bottom: 20px;
        }
        
        .contact-link {
            display: inline-flex;
            align-items: center;
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s ease;
            padding: 6px 12px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 30px;
        }
        
        .contact-link i {
            margin-right: 8px;
            font-size: 0.9rem;
        }
        
        .contact-link:hover, .contact-link:focus {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            transform: translateY(-2px);
        }
        
        .support-button {
            background-color: #FFD304;
            color: #333;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
        }
        
        .support-button:hover, .support-button:focus {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            background-color: #FFE44D;
        }
        
        .support-button i {
            margin-right: 8px;
        }
        
        .duck-pattern {
            position: absolute;
            top: 10px;
            right: 10px;
            opacity: 0.1;
            font-size: 6rem;
            transform: rotate(15deg);
        }

        /* ============ PDF SECTION STYLES ============ */
        .download-pdf-section {
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            position: relative;
            text-align: center;
            box-shadow: 0 5px 15px var(--shadow-color);
        }

        .pdf-section-toggle {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: #777;
            transition: color 0.2s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .pdf-section-toggle:hover, .pdf-section-toggle:focus {
            color: var(--main-color);
            background-color: rgba(0, 0, 0, 0.05);
        }
        
        .pdf-content-collapsed {
            height: 0;
            overflow: hidden;
            margin: 0;
            padding: 0;
            transition: all 0.4s ease;
        }
        
        .pdf-content {
            transition: all 0.4s ease;
            max-height: 500px;
            overflow: hidden;
        }

        .download-button {
            background-color: var(--main-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .download-button:hover, .download-button:focus {
            background-color: #a01a30;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }

        .download-button i {
            margin-right: 10px;
        }

        .download-button.locked {
            background-color: #888;
            cursor: not-allowed;
        }

        .download-info {
            margin-top: 15px;
            color: #666;
            font-size: 0.9rem;
        }

        .qr-code {
            display: block;
            width: 150px;
            height: 150px;
            margin: 20px auto;
            background-color: white;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        /* ============ PROGRESS STYLES ============ */
        .progress-container {
            margin-bottom: 30px;
            background-color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px var(--shadow-color);
        }

        .progress-title {
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .progress-title h2 {
            color: var(--main-color);
            font-size: 1.5rem;
        }

        .progress-stats {
            color: #666;
            font-weight: bold;
        }

        .progress-bar {
            height: 10px;
            background-color: #eee;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--physical-color), var(--mental-color), var(--personal-color), var(--relationship-color));
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        .category-progress {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .category-progress-item {
            text-align: center;
            flex: 1;
        }

        .category-label {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 5px;
        }

        .category-percentage {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .physical-text {
            color: var(--physical-color);
        }

        .mental-text {
            color: var(--mental-color);
        }

        .personal-text {
            color: var(--personal-color);
        }

        .relationship-text {
            color: var(--relationship-color);
        }

        /* ============ CATEGORY CARD STYLES ============ */
        .category-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .category {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px var(--shadow-color);
            background-color: var(--card-background);
            transition: transform 0.3s ease;
        }

        .category:hover {
            transform: translateY(-5px);
        }

        .category-header {
            padding: 15px 20px;
            color: white;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .category-header h2 {
            font-size: 1.3rem;
        }

        .category-body {
            padding: 15px;
        }

        .physical .category-header {
            background-color: var(--physical-color);
        }

        .mental .category-header {
            background-color: var(--mental-color);
        }

        .personal .category-header {
            background-color: var(--personal-color);
        }

        .relationship .category-header {
            background-color: var(--relationship-color);
        }

        /* ============ TODO ITEM STYLES ============ */
        .todo-item {
            padding: 12px 15px;
            margin-bottom: 10px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }

        .todo-item:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .todo-item.completed {
            background-color: rgba(240, 240, 240, 0.5);
        }

        .todo-item.completed .todo-text {
            text-decoration: line-through;
            color: #888;
        }

        .todo-checkbox {
            appearance: none;
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            border: 2px solid #ddd;
            margin-right: 15px;
            position: relative;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .physical .todo-checkbox {
            border-color: var(--physical-color);
        }

        .mental .todo-checkbox {
            border-color: var(--mental-color);
        }

        .personal .todo-checkbox {
            border-color: var(--personal-color);
        }

        .relationship .todo-checkbox {
            border-color: var(--relationship-color);
        }

        .todo-checkbox:checked::before {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 12px;
            color: white;
        }

        .physical .todo-checkbox:checked {
            background-color: var(--physical-color);
        }

        .mental .todo-checkbox:checked {
            background-color: var(--mental-color);
        }

        .personal .todo-checkbox:checked {
            background-color: var(--personal-color);
        }

        .relationship .todo-checkbox:checked {
            background-color: var(--relationship-color);
        }

        .todo-text {
            flex: 1;
            font-size: 0.95rem;
        }

        .todo-text .description {
            font-size: 0.8rem;
            color: #888;
            margin-top: 3px;
        }

        /* ============ ANIMATIONS & NOTIFICATIONS ============ */
        .achievement-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
            transition: all 0.5s ease;
            transform: translateX(120%);
        }

        .achievement-container.show {
            transform: translateX(0);
        }

        .achievement {
            background-color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            max-width: 300px;
        }

        .achievement-icon {
            background-color: var(--main-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 15px;
            font-size: 1.2rem;
        }

        .achievement-text {
            flex: 1;
        }

        .achievement-title {
            font-weight: bold;
            margin-bottom: 3px;
            color: var(--main-color);
        }

        .heart-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: red;
            transform: rotate(45deg);
            opacity: 0;
        }

        .heart::before,
        .heart::after {
            content: "";
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: red;
            border-radius: 50%;
        }

        .heart::before {
            top: -15px;
            left: 0;
        }

        .heart::after {
            top: 0;
            left: -15px;
        }

        .heart.animate {
            animation: float 4s ease-in-out forwards;
        }

        @keyframes float {
            0% {
                transform: rotate(45deg) translateY(0) scale(0);
                opacity: 0.8;
            }
            50% {
                opacity: 0.5;
            }
            100% {
                transform: rotate(45deg) translateY(-100vh) scale(1);
                opacity: 0;
            }
        }

        .reward-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .reward-animation.show {
            opacity: 1;
            pointer-events: auto;
        }

        .reward-content {
            background-color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            max-width: 90%;
            width: 400px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: scale(0.8);
            transition: transform 0.3s ease;
        }

        .reward-animation.show .reward-content {
            transform: scale(1);
        }

        .reward-icon {
            font-size: 3rem;
            color: gold;
            margin-bottom: 20px;
            animation: pulse 1s infinite alternate;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(1.2);
            }
        }

        .reward-title {
            font-size: 1.5rem;
            color: var(--main-color);
            margin-bottom: 10px;
        }

        .reward-description {
            color: #666;
            margin-bottom: 20px;
        }

        .reward-button {
            background-color: var(--main-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

        .reward-button:hover, .reward-button:focus {
            background-color: #a01a30;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f44336;
            position: absolute;
            top: 0;
            border-radius: 50%;
            animation: fall 3s ease-in-out;
            z-index: -1;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* ============ FOOTER STYLES ============ */
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            color: #666;
            font-size: 0.9rem;
        }
        
        .footer .heart {
            color: #8A2BE2;
            font-size: 1.2rem;
            margin: 0 5px;
            animation: heartbeat 1.5s infinite;
            display: inline-block;
        }
        
        .footer a {
            color: #8A2BE2;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        
        .footer a:hover, .footer a:focus {
            color: #C41E3A;
            text-decoration: underline;
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            5% { transform: scale(1.2); }
            10% { transform: scale(1); }
            15% { transform: scale(1.1); }
            20% { transform: scale(1); }
            100% { transform: scale(1); }
        }

        /* ============ RESPONSIVE STYLES ============ */
        @media (max-width: 1000px) {
            .page-layout {
                flex-direction: column;
            }
            
            aside {
                width: 100%;
                order: -1; /* Przenie≈õ aside na g√≥rƒô na tabletach */
            }
            
            main {
                width: 100%;
            }
            
            .about-me-container, .download-pdf-section {
                margin-bottom: 20px;
            }
        }

        @media (max-width: 768px) {
            header {
                padding-top: 20px;
            }
            
            .category-container {
                grid-template-columns: 1fr;
            }

            .main-title {
                font-size: 2rem;
                margin-top: 10px;
            }

            .subtitle {
                font-size: 1rem;
            }
            
            .logo-container {
                flex-direction: column;
                align-items: center;
                margin-bottom: 10px;
            }
            
            .duck-logo {
                position: relative;
                left: auto;
                top: auto;
                transform: none;
                margin-bottom: 15px;
            }
            
            .dedication {
                margin-top: 5px;
                font-size: 0.85rem;
                padding: 2px 8px;
            }
            
            aside {
                order: -1;
            }
            
            .about-me-container {
                padding: 15px;
            }
            
            .about-me-title {
                font-size: 1.3rem;
            }
            
            .about-me-content {
                font-size: 0.95rem;
            }
            
            .duck-pattern {
                font-size: 3rem;
            }
            
            .duck-logo {
                position: fixed;
                right: 20px;
                bottom: 20px;
                left: auto;
                top: auto;
                width: 50px;
                height: 50px;
                z-index: 1000;
                background-color: white;
                border-radius: 50%;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
                padding: 5px;
            }
            
            .duck-logo:hover, .duck-logo:focus {
                transform: scale(1.1);
            }
            
            .duck-tooltip {
                top: -40px;
                left: 50%;
                transform: translateX(-50%);
                margin-left: 0;
            }
            
            .duck-logo:hover .duck-tooltip, 
            .duck-logo:focus .duck-tooltip {
                opacity: 1;
                visibility: visible;
                top: -50px;
            }
        }
    </style>
</head>
<body>
    <div id="app" class="container">
        <!-- Skip to content link for accessibility -->
        <a href="#main-content" class="skip-link">Skip to main content</a>
        
        <!-- ============ HEADER SECTION ============ -->
        <header>
            <div class="logo-container">
                <div class="duck-logo" @click="tellDuckJoke" tabindex="0" role="button" aria-label="Duck logo - click for a joke">
                    <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 879 879" aria-hidden="true">
                        <path d="M 297.500 246.072 C 278.410 247.442, 259.620 249.077, 256.244 249.661 L 252.989 250.225 253.244 333.362 L 253.500 416.500 287.750 416.763 L 322 417.026 322 401.763 L 322.001 386.500 338.250 386.413 C 356.262 386.317, 364.621 384.705, 376.893 378.963 C 397.419 369.358, 412.844 350.573, 417.541 329.461 C 419.677 319.859, 419.102 296.806, 416.493 287.500 C 409.751 263.444, 393.142 250.816, 362.517 246.461 C 351.603 244.909, 316.614 244.699, 297.500 246.072 M 340.500 289.845 C 335.021 291.899, 329.280 295.069, 324.250 298.816 L 321 301.237 321 319.952 C 321 330.245, 321.278 338.945, 321.618 339.284 C 322.585 340.252, 338.822 331.720, 345.789 326.583 C 353.051 321.229, 357.418 314.960, 359.090 307.488 C 362.295 293.167, 353.614 284.928, 340.500 289.845" stroke="none" fill="#ff007f" fill-rule="evenodd"/>
                        <path d="M 402.032 1.115 C 317.376 8.626, 236.191 40.406, 169.885 91.989 C 139.296 115.785, 111.614 143.896, 88.025 175.118 C 38.021 241.301, 7.952 320.540, 1.054 404.304 C -0.301 420.763, -0.301 458.237, 1.054 474.696 C 11.536 601.997, 74.857 716.050, 177.710 792.885 C 225.475 828.567, 285.197 855.861, 344 868.882 C 379.884 876.828, 396.399 878.490, 439.500 878.490 C 476.252 878.490, 486.343 877.784, 512.500 873.385 C 612.148 856.627, 704.410 804.910, 770.968 728.500 C 809.896 683.811, 839.028 632.602, 857.683 576.070 C 866.905 548.122, 874.845 509.753, 877.059 482.426 C 877.680 474.767, 878.595 467.719, 879.094 466.764 C 880.243 464.561, 880.296 410.699, 879.148 411.408 C 878.680 411.698, 877.997 407.337, 877.631 401.717 C 875.780 373.324, 867.678 333.218, 857.659 302.857 C 842.049 255.554, 818.029 210.035, 788.662 172.102 C 745.283 116.072, 693.780 74.169, 630.500 43.422 C 581.860 19.788, 530.699 5.835, 475 1.013 C 461.492 -0.157, 415.642 -0.092, 402.032 1.115 M 307 115.134 C 250.632 120.895, 195.987 149.495, 159.205 192.488 C 113.494 245.918, 95.178 314.328, 108.062 383.500 C 117.521 434.282, 146.127 482.412, 186.500 515.473 C 199.045 525.746, 204.956 529.721, 226.078 542.090 C 244.205 552.706, 261.011 562.558, 303 587.187 C 317.575 595.736, 386.875 636.381, 457 677.510 C 527.125 718.639, 586.905 753.362, 589.843 754.673 C 609.880 763.613, 641.209 766.653, 665.300 761.996 C 707.390 753.860, 742.549 727.074, 761.771 688.500 C 777.090 657.759, 779.692 619.913, 768.785 586.500 C 763.829 571.317, 756.337 558.708, 726.778 515.802 C 700.174 477.185, 660.516 419.579, 598.522 329.500 C 584.138 308.600, 559.380 272.600, 543.504 249.500 C 512.400 204.243, 508.164 198.478, 497.575 187.004 C 449.010 134.374, 378.592 107.818, 307 115.134 M 0.440 439.500 C 0.440 454.900, 0.579 461.060, 0.748 453.189 C 0.917 445.319, 0.917 432.719, 0.747 425.189 C 0.578 417.660, 0.439 424.100, 0.440 439.500" stroke="none" fill="#8a2be2" fill-rule="evenodd"/>
                        <path d="M 307 115.134 C 250.632 120.895, 195.987 149.495, 159.205 192.488 C 113.494 245.918, 95.178 314.328, 108.062 383.500 C 117.521 434.282, 146.127 482.412, 186.500 515.473 C 199.045 525.746, 204.956 529.721, 226.078 542.090 C 244.205 552.706, 261.011 562.558, 303 587.187 C 317.575 595.736, 386.875 636.381, 457 677.510 C 527.125 718.639, 586.905 753.362, 589.843 754.673 C 609.880 763.613, 641.209 766.653, 665.300 761.996 C 707.390 753.860, 742.549 727.074, 761.771 688.500 C 777.090 657.759, 779.692 619.913, 768.785 586.500 C 763.829 571.317, 756.337 558.708, 726.778 515.802 C 700.174 477.185, 660.516 419.579, 598.522 329.500 C 584.138 308.600, 559.380 272.600, 543.504 249.500 C 512.400 204.243, 508.164 198.478, 497.575 187.004 C 449.010 134.374, 378.592 107.818, 307 115.134 M 297.500 246.072 C 278.410 247.442, 259.620 249.077, 256.244 249.661 L 252.989 250.225 253.244 333.362 L 253.500 416.500 287.750 416.763 L 322 417.026 322 401.763 L 322.001 386.500 338.250 386.413 C 356.262 386.317, 364.621 384.705, 376.893 378.963 C 397.419 369.358, 412.844 350.573, 417.541 329.461 C 419.677 319.859, 419.102 296.806, 416.493 287.500 C 409.751 263.444, 393.142 250.816, 362.517 246.461 C 351.603 244.909, 316.614 244.699, 297.500 246.072 M 340.500 289.845 C 335.021 291.899, 329.280 295.069, 324.250 298.816 L 321 301.237 321 319.952 C 321 330.245, 321.278 338.945, 321.618 339.284 C 322.585 340.252, 338.822 331.720, 345.789 326.583 C 353.051 321.229, 357.418 314.960, 359.090 307.488 C 362.295 293.167, 353.614 284.928, 340.500 289.845" stroke="none" fill="#fbd304" fill-rule="evenodd"/>
                    </svg>
                    <span class="duck-tooltip">What The Quack?</span>
                </div>
                <h1 class="main-title">{{ translate('mainTitle') }}</h1>
            </div>
            <p class="subtitle">{{ translate('subtitle') }}</p>
            <!-- Dedykacja dla Muszki -->
            <span class="dedication">Od ≈ªuczka dla Muszki, z mi≈Ço≈õciƒÖ</span>
            <div v-if="streakDays > 0" class="streak-counter" aria-live="polite">
                <span class="streak-flame" aria-hidden="true"><i class="fas fa-fire"></i></span>
                <span class="streak-count">{{ translate('streakDays', streakDays) }}</span>
            </div>
        </header>
        
        <!-- Duck Joke Container -->
        <div class="duck-joke-container" :class="{ show: showDuckJoke }" aria-live="polite" aria-atomic="true">
            <p class="duck-joke-text">{{ currentDuckJoke }}</p>
        </div>

        <div class="page-layout">
            <!-- Aside section (moved first for mobile optimization) -->
            <aside>
                <!-- About Me Section -->
                <div class="about-me-container">
                    <div class="duck-pattern" aria-hidden="true">ü¶Ü</div>
                    <h2 class="about-me-title">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgdmlld0JveD0iMCAwIDg3OSA4NzkiPjxwYXRoIGQ9Ik0gMzA3IDExNS4xMzQgQyAyNTAuNjMyIDEyMC44OTUsIDE5NS45ODcgMTQ5LjQ5NSwgMTU5LjIwNSAxOTIuNDg4IEMgMTEzLjQ5NCAyNDUuOTE4LCA5NS4xNzggMzE0LjMyOCwgMTA4LjA2MiAzODMuNTAwIEMgMTE3LjUyMSA0MzQuMjgyLCAxNDYuMTI3IDQ4Mi40MTIsIDE4Ni41MDAgNTE1LjQ3MyBDIDE5OS4wNDUgNTI1Ljc0NiwgMjA0Ljk1NiA1MjkuNzIxLCAyMjYuMDc4IDU0Mi4wOTAgQyAyNDQuMjA1IDU1Mi43MDYsIDI2MS4wMTEgNTYyLjU1OCwgMzAzIDU4Ny4xODcgQyAzMTcuNTc1IDU5NS43MzYsIDM4Ni44NzUgNjM2LjM4MSwgNDU3IDY3Ny41MTAgQyA1MjcuMTI1IDcxOC42MzksIDU4Ni45MDUgNzUzLjM2MiwgNTg5Ljg0MyA3NTQuNjczIEMgNjA5Ljg4MCA3NjMuNjEzLCA2NDEuMjA5IDc2Ni42NTMsIDY2NS4zMDAgNzYxLjk5NiBDIDcwNy4zOTAgNzUzLjg2MCwgNzQyLjU0OSA3MjcuMDc0LCA3NjEuNzcxIDY4OC41MDAgQyA3NzcuMDkwIDY1Ny43NTksIDc3OS42OTIgNjE5LjkxMywgNzY4Ljc4NSA1ODYuNTAwIEMgNzYzLjgyOSA1NzEuMzE3LCA3NTYuMzM3IDU1OC43MDgsIDcyNi43NzggNTE1LjgwMiBDIDcwMC4xNzQgNDc3LjE4NSwgNjYwLjUxNiA0MTkuNTc5LCA1OTguNTIyIDMyOS41MDAgQyA1ODQuMTM4IDMwOC42MDAsIDU1OS4zODAgMjcyLjYwMCwgNTQzLjUwNCAyNDkuNTAwIEMgNTEyLjQwMCAyMDQuMjQzLCA1MDguMTY0IDE5OC40NzgsIDQ5Ny41NzUgMTg3LjAwNCBDIDQ0OS4wMTAgMTM0LjM3NCwgMzc4LjU5MiAxMDcuODE4LCAzMDcgMTE1LjEzNCBNIDI5Ny41MDAgMjQ2LjA3MiBDIDI3OC40MTAgMjQ3LjQ0MiwgMjU5LjYyMCAyNDkuMDc3LCAyNTYuMjQ0IDI0OS42NjEgTCAyNTIuOTg5IDI1MC4yMjUgMjUzLjI0NCAzMzMuMzYyIEwgMjUzLjUwMCA0MTYuNTAwIDI4Ny43NTAgNDE2Ljc2MyBMIDMyMiA0MTcuMDI2IDMyMiA0MDEuNzYzIEwgMzIyLjAwMSAzODYuNTAwIDMzOC4yNTAgMzg2LjQxMyBDIDM1Ni4yNjIgMzg2LjMxNywgMzY0LjYyMSAzODQuNzA1LCAzNzYuODkzIDM3OC45NjMgQyAzOTcuNDE5IDM2OS4zNTgsIDQxMi44NDQgMzUwLjU3MywgNDE3LjU0MSAzMjkuNDYxIEMgNDE5LjY3NyAzMTkuODU5LCA0MTkuMTAyIDI5Ni44MDYsIDQxNi40OTMgMjg3LjUwMCBDIDQwOS43NTEgMjYzLjQ0NCwgMzkzLjE0MiAyNTAuODE2LCAzNjIuNTE3IDI0Ni40NjEgQyAzNTEuNjAzIDI0NC45MDksIDMxNi42MTQgMjQ0LjY5OSwgMjk3LjUwMCAyNDYuMDcyIE0gMzQwLjUwMCAyODkuODQ1IEMgMzM1LjAyMSAyOTEuODk5LCAzMjkuMjgwIDI5NS4wNjksIDMyNC4yNTAgMjk4LjgxNiBMIDMyMSAzMDEuMjM3IDMyMSAzMTkuOTUyIEMgMzIxIDMzMC4yNDUsIDMyMS4yNzggMzM4Ljk0NSwgMzIxLjYxOCAzMzkuMjg0IEMgMzIyLjU4NSAzNDAuMjUyLCAzMzguODIyIDMzMS43MjAsIDM0NS43ODkgMzI2LjU4MyBDIDM1My4wNTEgMzIxLjIyOSwgMzU3LjQxOCAzMTQuOTYwLCAzNTkuMDkwIDMwNy40ODggQyAzNjIuMjk1IDI5My4xNjcsIDM1My42MTQgMjg0LjkyOCwgMzQwLjUwMCAyODkuODQ1IiBzdHJva2U9Im5vbmUiIGZpbGw9IiNmZmZmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==" alt="Duck Icon" aria-hidden="true">
                        <span class="about-title-text">{{ translate('aboutTitle') }}</span>
                    </h2>
                    <p class="about-me-content">
                        <span class="about-content-text" v-html="translate('aboutContent').replace('\n\n', '<br><br>')"></span>
                    </p>
                    <div class="contact-info">
                        <a href="mailto:poniatowski.dev@gmail.com" class="contact-link" aria-label="Email the creator">
                            <i class="fas fa-envelope" aria-hidden="true"></i> poniatowski.dev@gmail.com
                        </a>
                    </div>
                    <a href="https://tiptopjar.com/proDucktive" target="_blank" class="support-button" rel="noopener">
                        <i class="fas fa-heart" aria-hidden="true"></i> <span class="support-text">{{ translate('supportButton') }}</span>
                    </a>
                </div>
                
                <!-- PDF section -->
                <div class="download-pdf-section">
                    <h2 class="pdf-title">{{ translate('pdfTitle') }}</h2>
                    <button 
                        v-if="progressPercentage >= 20 && !pdfSectionCollapsed" 
                        class="pdf-section-toggle" 
                        @click="pdfSectionCollapsed = true"
                        aria-label="Collapse PDF section">
                        <i class="fas fa-times" aria-hidden="true"></i>
                    </button>
                    <button 
                        v-if="progressPercentage >= 20 && pdfSectionCollapsed" 
                        class="pdf-section-toggle" 
                        @click="pdfSectionCollapsed = false"
                        aria-label="Expand PDF section">
                        <i class="fas fa-chevron-down" aria-hidden="true"></i>
                    </button>
                    
                    <a :href="progressPercentage >= 20 ? pdfLink : '#'" 
                       :class="['download-button', progressPercentage < 20 ? 'locked' : '']"
                       :download="progressPercentage >= 20"
                       target="_blank"
                       :aria-disabled="progressPercentage < 20"
                       @click="progressPercentage < 20 ? $event.preventDefault() : null">
                        <i class="fas" :class="progressPercentage >= 20 ? 'fa-download' : 'fa-lock'" aria-hidden="true"></i>
                        <span class="download-text">{{ progressPercentage >= 20 ? translate('downloadButton') : translate('lockButton') }}</span>
                    </a>
                    
                    <div :class="pdfSectionCollapsed && progressPercentage >= 20 ? 'pdf-content-collapsed' : 'pdf-content'">
                        <p class="download-info" v-if="progressPercentage < 20">
                            <span class="download-info-text">{{ translate('downloadInfoLocked', Math.ceil(totalTasks * 0.2) - completedCount) }}</span>
                        </p>
                        <p class="download-info" v-else>
                            <span class="download-info-text">{{ translate('downloadInfoUnlocked') }}</span>
                        </p>
                        <img v-if="progressPercentage >= 20" class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://drive.google.com/file/d/1fPwsiyJxmMKKHA5ImRSDfjWk14NCnl-V/view?usp=drive_link" alt="QR Code for PDF download">
                    </div>
                </div>
            </aside>
            
            <!-- ============ MAIN CONTENT SECTION ============ -->
            <main id="main-content">
                <!-- Progress Container -->
                <div class="progress-container">
                    <div class="progress-title">
                        <h2>{{ translate('yourProgress') }}</h2>
                        <span class="progress-stats">{{ completedCount }}/{{ totalTasks }} ({{ progressPercentage }}%)</span>
                    </div>
                    <div class="progress-bar" role="progressbar" :aria-valuenow="progressPercentage" aria-valuemin="0" aria-valuemax="100">
                        <div class="progress-fill" :style="{ width: progressPercentage + '%' }"></div>
                    </div>
                    <div class="category-progress" aria-label="Category progress breakdown">
                        <div class="category-progress-item">
                            <div class="category-label">{{ translate('physical') }}</div>
                            <div class="category-percentage physical-text">{{ getCategoryProgress('physical') }}%</div>
                        </div>
                        <div class="category-progress-item">
                            <div class="category-label">{{ translate('mental') }}</div>
                            <div class="category-percentage mental-text">{{ getCategoryProgress('mental') }}%</div>
                        </div>
                        <div class="category-progress-item">
                            <div class="category-label">{{ translate('personal') }}</div>
                            <div class="category-percentage personal-text">{{ getCategoryProgress('personal') }}%</div>
                        </div>
                        <div class="category-progress-item">
                            <div class="category-label">{{ translate('relationship') }}</div>
                            <div class="category-percentage relationship-text">{{ getCategoryProgress('relationship') }}%</div>
                        </div>
                    </div>
                </div>

                <!-- Tasks Categories -->
                <div class="category-container">
                    <div v-for="(category, index) in categories" :key="index" :class="['category', category.type]">
                        <div class="category-header">
                            <h2>{{ translate(category.type + 'Hearts') }}</h2>
                            <span>{{ getCategoryCompletedCount(category.type) }}/{{ category.tasks.length }}</span>
                        </div>
                        <div class="category-body">
                            <div v-for="(task, taskIndex) in category.tasks" :key="taskIndex" 
                                :class="['todo-item', {completed: task.completed}]">
                                <input type="checkbox" class="todo-checkbox" v-model="task.completed" 
                                       @change="saveData" 
                                       :id="category.type + '-task-' + taskIndex"
                                       :aria-label="task.title + ': ' + task.description">
                                <div class="todo-text">
                                    <label :for="category.type + '-task-' + taskIndex">{{ task.title }}</label>
                                    <div class="description">{{ task.description }}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- ============ NOTIFICATION & ANIMATION CONTAINERS ============ -->
        <div class="achievement-container" :class="{ show: showAchievement }" aria-live="polite" aria-atomic="true">
            <div class="achievement" role="alert">
                <div class="achievement-icon">
                    <i class="fas fa-star" aria-hidden="true"></i>
                </div>
                <div class="achievement-text">
                    <div class="achievement-title">{{ achievementTitle }}</div>
                    <div>{{ achievementMessage }}</div>
                </div>
            </div>
        </div>

        <div class="heart-container" ref="heartContainer" aria-hidden="true"></div>

        <div class="reward-animation" :class="{ show: showReward }" @click="showReward = false" role="dialog" aria-modal="true" aria-labelledby="reward-title">
            <div class="reward-content" @click.stop>
                <div class="reward-icon">
                    <i class="fas fa-crown" aria-hidden="true"></i>
                </div>
                <h3 class="reward-title" id="reward-title">{{ rewardTitle }}</h3>
                <p class="reward-description">{{ rewardDescription }}</p>
                <button class="reward-button" @click="showReward = false">Continue Self-Care Journey</button>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer" v-html="translate('footer')">
        </footer>
    </div>

    <!-- ============ JAVASCRIPT ============ -->
    <script>
        const { createApp, ref, computed, onMounted, watch } = Vue;

        createApp({
            setup() {
                // ========== LANGUAGE SETTINGS ==========
                const currentLanguage = ref('en');
                
                // Translations dictionary
                const translations = {
                    en: {
                        mainTitle: "69 Shades of Love",
                        subtitle: "Your Self-Care Journey",
                        aboutTitle: "WTQ - What The Quack!",
                        aboutContent: "Hi there! I'm a digital duck paddling through the waters of creativity, crafting digital products, and sharing tools, knowledge, and value with awesome humans like you. If my quacking resonates with you, feel free to toss me some seeds of support ‚Äì a coffee, some grains, or anything that keeps this duck afloat! üíö\n\nLet's make waves together ‚Äì one quack at a time! üåä‚ú®",
                        supportButton: "Support This Duck",
                        pdfTitle: "Mind Map PDF",
                        downloadButton: "Download Mind Map PDF",
                        lockButton: "Complete 20% to Unlock PDF",
                        downloadInfoLocked: "Complete {0} more tasks to unlock the full mind map PDF!",
                        downloadInfoUnlocked: "Congratulations! You've unlocked the full mind map PDF. Download it to have an offline reference.",
                        streakDays: "{0} day streak!",
                        yourProgress: "Your Progress",
                        physical: "Physical",
                        mental: "Mental",
                        personal: "Personal Joy",
                        relationship: "Relationship",
                        physicalHearts: "Physical Hearts",
                        mentalHearts: "Mental Hearts",
                        personalHearts: "Personal Joy Hearts",
                        relationshipHearts: "Relationship Hearts",
                        footer: "Made with <span class='heart'>üíú</span> | Feel free to quack at <a href='mailto:poniatowski.dev@gmail.com'>poniatowski.dev@gmail.com</a>"
                    },
                    pl: {
                        mainTitle: "69 Odcieni Mi≈Ço≈õci",
                        subtitle: "Twoja Droga do Dbania o Siebie",
                        aboutTitle: "WTQ - Co Za Kwak!",
                        aboutContent: "Cze≈õƒá! Jestem cyfrowƒÖ kaczkƒÖ p≈ÇywajƒÖcƒÖ w wodach kreatywno≈õci, tworzƒÖcƒÖ cyfrowe produkty i dzielƒÖcƒÖ siƒô narzƒôdziami, wiedzƒÖ i warto≈õciƒÖ z niesamowitymi lud≈∫mi takimi jak Ty. Je≈õli moje kwakanie rezonuje z TobƒÖ, nie krƒôpuj siƒô rzuciƒá mi kilka ziaren wsparcia - kawƒô, ziarno, lub cokolwiek, co utrzyma tƒô kaczkƒô na powierzchni! üíö\n\nTw√≥rzmy fale razem - jeden kwak na raz! üåä‚ú®",
                        supportButton: "Wesprzyj Tƒô Kaczkƒô",
                        pdfTitle: "Mapa My≈õli PDF",
                        downloadButton: "Pobierz Mapƒô My≈õli PDF",
                        lockButton: "Uko≈Ñcz 20% aby odblokowaƒá PDF",
                        downloadInfoLocked: "Uko≈Ñcz jeszcze {0} zada≈Ñ, aby odblokowaƒá pe≈ÇnƒÖ mapƒô my≈õli PDF!",
                        downloadInfoUnlocked: "Gratulacje! Odblokowa≈Çe≈õ/a≈õ pe≈ÇnƒÖ mapƒô my≈õli PDF. Pobierz jƒÖ, aby mieƒá dostƒôp offline.",
                        streakDays: "{0} dni pod rzƒÖd!",
                        yourProgress: "Tw√≥j Postƒôp",
                        physical: "Fizyczne",
                        mental: "Umys≈Çowe",
                        personal: "Osobista Rado≈õƒá",
                        relationship: "Relacje",
                        physicalHearts: "Fizyczne Serca",
                        mentalHearts: "Umys≈Çowe Serca",
                        personalHearts: "Serca Osobistej Rado≈õci",
                        relationshipHearts: "Serca Relacji",
                        footer: "Stworzone z <span class='heart'>üíú</span> | ≈ömia≈Ço kwacz do <a href='mailto:poniatowski.dev@gmail.com'>poniatowski.dev@gmail.com</a>"
                    }
                };
                
                // Language detection
                const detectUserLanguage = () => {
                    const browserLang = navigator.language || navigator.userLanguage;
                    return browserLang.startsWith('pl') ? 'pl' : 'en';
                };
                
                // Translation function
                const translate = (key, ...args) => {
                    let text = translations[currentLanguage.value][key] || key;
                    
                    // Replace parameters {0}, {1}, etc. with appropriate arguments
                    if (args.length > 0) {
                        args.forEach((arg, index) => {
                            text = text.replace(`{${index}}`, arg);
                        });
                    }
                    
                    return text;
                };

                // ========== APP DATA ==========
                // Task categories data
                const categories = ref([
                    {
                        name: "Physical",
                        type: "physical",
                        tasks: [
                            { title: "Sleeping Beauty Mode", description: "8hr minimum, no exceptions!", completed: false },
                            { title: "Hydro Homie", description: "Water before coffee, always", completed: false },
                            { title: "Morning Wiggle", description: "Stretching before scrolling", completed: false },
                            { title: "Fuel, Not Feels", description: "No emotional eating today", completed: false },
                            { title: "Vitamin D-lightful", description: "Catch some rays, even briefly", completed: false },
                            { title: "Pretzel Person", description: "Twist into yoga positions", completed: false },
                            { title: "Phone-Free Feast", description: "Taste your food, not your feed", completed: false },
                            { title: "Body Check-In", description: "\"How you doin'?\" but to yourself", completed: false },
                            { title: "Spa Day at Home", description: "Treat your body like a temple", completed: false },
                            { title: "Step Master", description: "Walk like your ex is watching", completed: false },
                            { title: "Slouch Potato No More", description: "Posture check, straighten up!", completed: false },
                            { title: "Supplement Superhero", description: "Pills & potions for peak performance", completed: false },
                            { title: "Teeth TLC", description: "Beyond the 2-minute brush", completed: false },
                            { title: "Eye Candy Break", description: "Rest those screen-strained peepers", completed: false },
                            { title: "Chair Affair", description: "Sit properly, future you will thank you", completed: false },
                            { title: "Breath of Fresh Sanity", description: "Inhale calm, exhale chaos", completed: false },
                            { title: "Joint Juice", description: "Move it or lose it, flexibility is sexy", completed: false },
                            { title: "Ergo-no-more-pain", description: "Adjust everything for comfort", completed: false },
                            { title: "Morning Glory", description: "First light face time (not the app)", completed: false },
                            { title: "Voluntary Polar Plunge", description: "Cold shower, hot results", completed: false }
                        ]
                    },
                    {
                        name: "Mental",
                        type: "mental",
                        tasks: [
                            { title: "Thought Vacation", description: "Meditation without the hashtags", completed: false },
                            { title: "Gratitude Attitude", description: "Three things that don't suck today", completed: false },
                            { title: "Digital Detox Time", description: "Airplane mode for sanity", completed: false },
                            { title: "Breath of Fresh Perspective", description: "Deep breathing in 4-7-8", completed: false },
                            { title: "Dear Diary Moment", description: "Journal the day away", completed: false },
                            { title: "Self Hype Squad", description: "Be your own cheerleader", completed: false },
                            { title: "Laugh Until It Hurts", description: "Find something genuinely funny", completed: false },
                            { title: "Brain Food", description: "Reading that's not a social feed", completed: false },
                            { title: "Mindful Munching", description: "Taste every bite like a food critic", completed: false },
                            { title: "Feelings Check-up", description: "Emotional vital signs", completed: false },
                            { title: "Thought Reframing", description: "Plot twist: it's not a catastrophe", completed: false },
                            { title: "Stress Exorcism", description: "Banish tension from your body", completed: false },
                            { title: "Silent Disco in Your Head", description: "Quiet time, loud thoughts", completed: false },
                            { title: "News Diet", description: "Information intermittent fasting", completed: false },
                            { title: "\"No\" Practice", description: "Boundaries like you're a castle", completed: false },
                            { title: "One Thing at a Time", description: "Monotasking is the new multitasking", completed: false },
                            { title: "Single-Focus Superpower", description: "Attention without division", completed: false }
                        ]
                    },
                    {
                        name: "Personal Joy",
                        type: "personal",
                        tasks: [
                            { title: "Bookworm Mode", description: "Get lost in pages, not feeds", completed: false },
                            { title: "Podcast & Chill", description: "Learn while lounging", completed: false },
                            { title: "Clean Slate", description: "Your space reflects your mind", completed: false },
                            { title: "Hobby Happy Hour", description: "Do that thing you love", completed: false },
                            { title: "Music Medicine", description: "Playlist therapy session", completed: false },
                            { title: "Nature's Therapy", description: "Trees are cheaper than therapists", completed: false },
                            { title: "Declutter Delight", description: "One item must go today", completed: false },
                            { title: "Create Don't Consume", description: "Make something, anything", completed: false },
                            { title: "Plant Parent Time", description: "Green children need love too", completed: false },
                            { title: "Tea Ceremony Solo", description: "Mindful sipping moment", completed: false },
                            { title: "Dance Like Nobody's Watching", description: "Because they're not", completed: false },
                            { title: "Chef's Special", description: "Cook something that makes you proud", completed: false },
                            { title: "Local Tourist", description: "Explore your area with fresh eyes", completed: false },
                            { title: "Date Yourself", description: "Treat yourself how you deserve", completed: false },
                            { title: "Inner Child Playtime", description: "Silly is the new sophisticated", completed: false },
                            { title: "Pet Therapy Session", description: "Fur babies heal the soul", completed: false },
                            { title: "Digital-Free Day", description: "Like the 90s but with better hair", completed: false },
                            { title: "Coffee Break Actually Taken", description: "Savor, don't gulp", completed: false }
                        ]
                    },
                    {
                        name: "Relationship",
                        type: "relationship",
                        tasks: [
                            { title: "Date Night Done Right", description: "No phones, all presence", completed: false },
                            { title: "Magic Fingers", description: "Massage exchange with extras", completed: false },
                            { title: "Future Fantasy", description: "Plan adventures together", completed: false },
                            { title: "Couple's Cardio", description: "Walk and talk without distractions", completed: false },
                            { title: "Soul-Deep Chat", description: "Beyond \"How was your day?\"", completed: false },
                            { title: "Gratitude Shower", description: "Appreciation list shared aloud", completed: false },
                            { title: "Skin-to-Skin Time", description: "Connect physically, whatever that means", completed: false },
                            { title: "Conflict Resolution", description: "Fight fair, finish strong", completed: false },
                            { title: "Cheerleader Mode", description: "Support their goals actively", completed: false },
                            { title: "Daily Touch Point", description: "Physical connection, even briefly", completed: false },
                            { title: "Verbal Validation", description: "Compliments that matter", completed: false },
                            { title: "Relationship First", description: "Prioritize partner over productivity", completed: false },
                            { title: "Morning Affection", description: "Kiss before phone check", completed: false },
                            { title: "Evening Reconnection", description: "Share your full attention", completed: false }
                        ]
                    }
                ]);

                // ========== STATE REFERENCES ==========
                const heartContainer = ref(null);
                const showAchievement = ref(false);
                const achievementTitle = ref('');
                const achievementMessage = ref('');
                const lastCompletedTask = ref(null);
                const streakDays = ref(0);
                const lastCheckDate = ref('');
                const showReward = ref(false);
                const rewardTitle = ref('');
                const rewardDescription = ref('');
                const pdfLink = "https://drive.google.com/file/d/1fPwsiyJxmMKKHA5ImRSDfjWk14NCnl-V/view?usp=drive_link";

                // Duck joke functionality
                const showDuckJoke = ref(false);
                const currentDuckJoke = ref('');
                const duckAudio = ref(null);
                const pdfSectionCollapsed = ref(false);
                
                // Duck jokes array
                const duckJokes = {
                    en: [
                        "What do you call a duck that steals? A ROBBER DUCKY!",
                        "Why did the duck cross the road? To prove he wasn't chicken!",
                        "What do you call a duck that's good at math? A CALCUL-QUACKER!",
                        "How does a duck pay its bills? With BILL-FOLDS!",
                        "What do ducks like to eat with soup? QUACKERS!",
                        "What did the duck say when it bought lipstick? Put it on my BILL!",
                        "Why don't ducks tell jokes when they fly? Because they would QUACK up!",
                        "What has a bill but never pays? A DUCK!",
                        "How can you tell if a duck is buying a car? It keeps asking about the DOWN payment!",
                        "What happens when ducks fly upside down? They QUACK up!"
                    ],
                    pl: [
                        "Jak siƒô nazywa kaczka, kt√≥ra kradnie? Z≈ÅODZIEJSKA KACZKA!",
                        "Dlaczego kaczka przesz≈Ça przez drogƒô? ≈ªeby udowodniƒá, ≈ºe nie jest kurczakiem!",
                        "Jak nazywa siƒô kaczka dobra z matematyki? KALKU-KWAK!",
                        "Jak kaczka p≈Çaci rachunki? DZIOBEM!",
                        "Co kaczki lubiƒÖ je≈õƒá do zupy? KRAKRA-KERSY!",
                        "Co powiedzia≈Ça kaczka, kupujƒÖc szminkƒô? Na≈Ç√≥≈º jƒÖ na m√≥j DZI√ìB!",
                        "Dlaczego kaczki nie opowiadajƒÖ ≈ºart√≥w podczas lotu? Bo by siƒô ZAKWAKA≈ÅY!",
                        "Co ma dzi√≥b, ale nigdy nie p≈Çaci? KACZKA!",
                        "Jak poznaƒá, ≈ºe kaczka kupuje samoch√≥d? CiƒÖgle pyta o PIE-RZASTY!",
                        "Co siƒô dzieje, gdy kaczki latajƒÖ do g√≥ry nogami? ZAKWAKUJƒÑ SIƒò!"
                    ]
                };
                
                // ========== COMPUTED PROPERTIES ==========
                const totalTasks = computed(() => {
                    return categories.value.reduce((total, category) => total + category.tasks.length, 0);
                });

                const completedCount = computed(() => {
                    return categories.value.reduce((total, category) => {
                        return total + category.tasks.filter(task => task.completed).length;
                    }, 0);
                });

                const progressPercentage = computed(() => {
                    return Math.round((completedCount.value / totalTasks.value) * 100) || 0;
                });
                
                // ========== FUNCTIONS ==========
                // Helper - Duck joke functionality
                const tellDuckJoke = () => {
                    // Play duck sound
                    playDuckSound();
                    
                    // Select random joke based on current language
                    const jokes = duckJokes[currentLanguage.value] || duckJokes.en;
                    const randomJoke = jokes[Math.floor(Math.random() * jokes.length)];
                    currentDuckJoke.value = randomJoke;
                    
                    // Show joke
                    showDuckJoke.value = true;
                    
                    // Hide after 5 seconds
                    setTimeout(() => {
                        showDuckJoke.value = false;
                    }, 5000);
                };
                
                // Play duck sound
                const playDuckSound = () => {
                    try {
                        // Create new audio object if not exists
                        if (!duckAudio.value) {
                            duckAudio.value = new Audio("https://www.soundjay.com/animals/sounds/duck-quack-1.mp3");
                        }
                        
                        // Reset to beginning and play
                        duckAudio.value.currentTime = 0;
                        duckAudio.value.play().catch(err => console.log("Audio play prevented by browser policy"));
                    } catch (err) {
                        console.error("Error playing duck sound:", err);
                    }
                };
                
                // Helper functions - Category statistics
                const getCategoryCompletedCount = (type) => {
                    const category = categories.value.find(cat => cat.type === type);
                    return category ? category.tasks.filter(task => task.completed).length : 0;
                };

                const getCategoryProgress = (type) => {
                    const category = categories.value.find(cat => cat.type === type);
                    if (!category) return 0;
                    
                    const completed = category.tasks.filter(task => task.completed).length;
                    const total = category.tasks.length;
                    return Math.round((completed / total) * 100) || 0;
                };
                
                // Helper functions - Animation effects
                const createHeart = (color) => {
                    if (!heartContainer.value) return;
                    
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    heart.style.backgroundColor = color;
                    
                    // Position at the bottom of the screen at random X coordinate
                    const x = Math.random() * window.innerWidth;
                    heart.style.left = `${x}px`;
                    heart.style.bottom = '0';
                    
                    // Add to container
                    heartContainer.value.appendChild(heart);
                    
                    // Add animate class after a small delay to trigger animation
                    setTimeout(() => {
                        heart.classList.add('animate');
                    }, 10);
                    
                    // Remove after animation completes
                    setTimeout(() => {
                        heart.remove();
                    }, 4000);
                };

                const createConfetti = () => {
                    const colors = ['#FF9F29', '#7ED957', '#FFD966', '#FF97B7', '#C41E3A'];
                    
                    for (let i = 0; i < 50; i++) {
                        setTimeout(() => {
                            const confetti = document.createElement('div');
                            confetti.className = 'confetti';
                            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                            confetti.style.left = `${Math.random() * window.innerWidth}px`;
                            
                            document.body.appendChild(confetti);
                            
                            // Remove after animation
                            setTimeout(() => {
                                confetti.remove();
                            }, 3000);
                        }, i * 50);
                    }
                };
                
                // Helper functions - Progress tracking
                const checkAchievements = () => {
                    const achievements = [
                        { threshold: 5, title: "Self-Care Starter", message: "You've completed your first 5 self-care activities!" },
                        { threshold: 10, title: "Wellness Warrior", message: "10 tasks done! Your self-care journey is taking off!" },
                        { threshold: 25, title: "Harmony Hero", message: "25 acts of self-love completed. You're a quarter way there!" },
                        { threshold: 40, title: "Balance Master", message: "40 tasks complete! You're becoming a self-care expert!" },
                        { threshold: 69, title: "Self-Love Supreme", message: "All 69 shades of love experienced! You're amazing!" }
                    ];

                    for (const achievement of achievements) {
                        if (completedCount.value === achievement.threshold) {
                            achievementTitle.value = achievement.title;
                            achievementMessage.value = achievement.message;
                            showAchievement.value = true;
                            
                            setTimeout(() => {
                                showAchievement.value = false;
                            }, 5000);

                            if (completedCount.value === 69) {
                                showSpecialReward();
                            }
                            
                            break;
                        }
                    }
                };

                const checkMilestones = () => {
                    const categoryThreshold = 40; // 40% completion for any category
                    const categories = ['physical', 'mental', 'personal', 'relationship'];
                    
                    for (const category of categories) {
                        const progress = getCategoryProgress(category);
                        if (progress >= categoryThreshold) {
                            let categoryName = category.charAt(0).toUpperCase() + category.slice(1);
                            triggerHeartAnimation(category);
                        }
                    }
                };

                const triggerHeartAnimation = (category) => {
                    let color;
                    switch (category) {
                        case 'physical': color = '#FF9F29'; break;
                        case 'mental': color = '#7ED957'; break;
                        case 'personal': color = '#FFD966'; break;
                        case 'relationship': color = '#FF97B7'; break;
                        default: color = '#C41E3A';
                    }

                    for (let i = 0; i < 5; i++) {
                        setTimeout(() => {
                            createHeart(color);
                        }, i * 300);
                    }
                };

                const showSpecialReward = () => {
                    rewardTitle.value = "Self-Care Champion!";
                    rewardDescription.value = "You've completed all 69 Shades of Love! Your commitment to self-care is truly inspiring. Remember that self-love is a journey, not a destination. Keep nurturing yourself every day!";
                    showReward.value = true;
                    createConfetti();
                };

                const checkStreak = () => {
                    const today = new Date().toDateString();
                    
                    if (lastCheckDate.value && lastCheckDate.value !== today) {
                        const lastDate = new Date(lastCheckDate.value);
                        const currentDate = new Date(today);
                        
                        // Check if it's consecutive days (difference of 1 day)
                        const timeDiff = currentDate.getTime() - lastDate.getTime();
                        const dayDiff = Math.round(timeDiff / (1000 * 3600 * 24));
                        
                        if (dayDiff === 1) {
                            streakDays.value++;
                        } else {
                            // Streak broken
                            streakDays.value = 1;
                        }
                    } else if (!lastCheckDate.value) {
                        // First day
                        streakDays.value = 1;
                    }
                    
                    lastCheckDate.value = today;
                    localStorage.setItem('lastCheckDate', today);
                    localStorage.setItem('streakDays', streakDays.value.toString());
                };

                const showCompletionAnimation = (taskType) => {
                    // Show different animations based on the task type
                    let colorClass;
                    switch(taskType) {
                        case 'physical': colorClass = 'physical-text'; break;
                        case 'mental': colorClass = 'mental-text'; break;
                        case 'personal': colorClass = 'personal-text'; break;
                        case 'relationship': colorClass = 'relationship-text'; break;
                    }
                    
                    if (Math.random() > 0.7) {  // Only show sometimes to avoid overwhelming
                        triggerHeartAnimation(taskType);
                    }
                };
                
                // Data persistence functions
                const saveData = () => {
                    localStorage.setItem('selfCareData', JSON.stringify({
                        categories: categories.value,
                        lastCompletedTask: lastCompletedTask.value
                    }));
                    
                    // Check for task completion
                    checkAchievements();
                    checkMilestones();
                    checkStreak();
                    
                    // Get current completed count to compare
                    const newCompletedCount = categories.value.reduce((total, category) => {
                        return total + category.tasks.filter(task => task.completed).length;
                    }, 0);
                    
                    // If a new task was completed
                    if (newCompletedCount > completedCount.value - 1) {
                        // Find the most recently completed task
                        for (const category of categories.value) {
                            for (const task of category.tasks) {
                                if (task.completed && JSON.stringify(task) !== JSON.stringify(lastCompletedTask.value)) {
                                    lastCompletedTask.value = {...task};
                                    showCompletionAnimation(category.type);
                                    break;
                                }
                            }
                        }
                    }
                };

                const loadData = () => {
                    const savedData = localStorage.getItem('selfCareData');
                    if (savedData) {
                        const parsedData = JSON.parse(savedData);
                        categories.value = parsedData.categories;
                        lastCompletedTask.value = parsedData.lastCompletedTask;
                    }
                    
                    // Load streak data
                    const savedStreak = localStorage.getItem('streakDays');
                    if (savedStreak) {
                        streakDays.value = parseInt(savedStreak);
                    }
                    
                    const savedLastCheck = localStorage.getItem('lastCheckDate');
                    if (savedLastCheck) {
                        lastCheckDate.value = savedLastCheck;
                    }
                    
                    // Check if we need to update streak (for a new day)
                    const today = new Date().toDateString();
                    if (lastCheckDate.value !== today) {
                        checkStreak();
                    }
                };

                // ========== WATCHERS ==========
                // Watch for completed task counts to show rewards
                watch(completedCount, (newVal, oldVal) => {
                    // If just completed a milestone for one of the rewards
                    const milestones = [10, 25, 50, 69];
                    
                    for (const milestone of milestones) {
                        if (oldVal < milestone && newVal >= milestone) {
                            // Special messages for different milestones
                            if (milestone === 69) {
                                showSpecialReward();
                            } else {
                                achievementTitle.value = `${milestone} Steps to Self-Love!`;
                                achievementMessage.value = `You've completed ${milestone} self-care activities. Keep going!`;
                                showAchievement.value = true;
                                
                                setTimeout(() => {
                                    showAchievement.value = false;
                                }, 5000);
                            }
                        }
                    }
                });

                // ========== LIFECYCLE HOOKS ==========
                onMounted(() => {
                    loadData();
                    heartContainer.value = document.querySelector('.heart-container');
                    
                    // Detect user language
                    currentLanguage.value = detectUserLanguage();
                    
                    // Make duck logo keyboard-accessible
                    const duckLogo = document.querySelector('.duck-logo');
                    if (duckLogo) {
                        duckLogo.addEventListener('keydown', (e) => {
                            if (e.key === 'Enter' || e.key === ' ') {
                                e.preventDefault();
                                tellDuckJoke();
                            }
                        });
                    }
                    
                    // Initialize audio for duck sound
                    duckAudio.value = new Audio("https://www.soundjay.com/animals/sounds/duck-quack-1.mp3");
                    duckAudio.value.preload = "auto";
                });

                // ========== RETURN EXPOSED REFERENCES AND METHODS ==========
                return {
                    // Data & computed properties
                    categories,
                    completedCount,
                    totalTasks,
                    progressPercentage,
                    getCategoryCompletedCount,
                    getCategoryProgress,
                    showAchievement,
                    achievementTitle,
                    achievementMessage,
                    saveData,
                    streakDays,
                    showReward,
                    rewardTitle,
                    rewardDescription,
                    heartContainer,
                    pdfLink,
                    
                    // Duck functionality
                    showDuckJoke,
                    currentDuckJoke,
                    tellDuckJoke,
                    
                    // PDF section collapsing
                    pdfSectionCollapsed,
                    
                    // Language related
                    currentLanguage,
                    translate
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
